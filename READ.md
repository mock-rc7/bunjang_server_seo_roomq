# 개발일지

# 2022/07/16

---

- **기획서 작성 (세오, 룸큐, 오공)**
    
    [https://www.notion.so/softsquared/_E-037e799b55a24a8db76ace0d7b3cbb1c](https://www.notion.so/_E-037e799b55a24a8db76ace0d7b3cbb1c)
    

- **ERD 진행사항**
    - 80%
    - [https://aquerytool.com/aquerymain/index/?rurl=7c76d9b4-e07e-4339-96f4-f5d37e3f818d](https://aquerytool.com/aquerymain/index/?rurl=7c76d9b4-e07e-4339-96f4-f5d37e3f818d)
    - 비번: 0mr588

- **API 리스트업 - (7월 17일 예정)**

  

- **서버&클라이언트 회의**
    - 7월 17일까지
    - 서버: API 리스트업, ERD ,상품조회, 상품등록  API  서버반영
    - 클라이언트: 홈화면, 상품 조회, 상품 등록

# 2022/07/17

---

- **기획서 작성 (세오, 룸큐, 오공)**
    
    [https://www.notion.so/softsquared/_E-037e799b55a24a8db76ace0d7b3cbb1c](https://www.notion.so/_E-037e799b55a24a8db76ace0d7b3cbb1c)
    

- **ERD 진행사항**
    - 100% (수정 예정)
    - [https://aquerytool.com/aquerymain/index/?rurl=7c76d9b4-e07e-4339-96f4-f5d37e3f818d](https://aquerytool.com/aquerymain/index/?rurl=7c76d9b4-e07e-4339-96f4-f5d37e3f818d)
    - 비번: 0mr588

- **API 리스트업 - (7월 17일 예정)**
    - 50%

  

- **현재 어떤 기능(api)를 구현중에 있는지**
    - 상품 조회
    - 상품 상세페이지 조회
    - 상품 등록

- **더미데이터 진행상황**
    - 카테고리 1,2,3
    - 상품
    - 상품 이미지

- **서버&클라이언트 회의**
    - 7월 18일까지
    - 서버: API 리스트업 끝내기
    - 클라이언트: api 2~3개 연동하기
    

# 2022/07/18

---

- **기획서 작성 (세오, 룸큐, 오공)**
    
    [https://www.notion.so/softsquared/_E-037e799b55a24a8db76ace0d7b3cbb1c](https://www.notion.so/_E-037e799b55a24a8db76ace0d7b3cbb1c)
    

      

- **ERD 진행사항**
    - 100% (타입 수정, 테이블 컬럼 수정)
    - teg 테이블, location 테이블 추가 예정
    - [https://aquerytool.com/aquerymain/index/?rurl=7c76d9b4-e07e-4339-96f4-f5d37e3f818d](https://aquerytool.com/aquerymain/index/?rurl=7c76d9b4-e07e-4339-96f4-f5d37e3f818d)
    - 비번: 0mr588

- **API 리스트업**
    - 90% 수정사항 남아있음

  

- **현재 어떤 기능(api)를 구현중에 있는지**
    - 상품 조회
    - 상품 등록 (태그, 사진 등록, 카테고리, 지역 조회 )
    - 로그인

- **더미데이터 진행상황**
    - 카테고리 1,2,3
    - 상품
    - 상품 이미지

- **서버&클라이언트 회의**
    - 서버:  하루에 6개이상 만들기
    - 클라이언트:  api 연동하기
    
- 개발 팀장님 피드백 1차
    - api 명세서는 최대한 빠르게 업데이트하여 클라이언트측에 지체없이 전달되도록 해주세요!
    
    - 이미지 처리 방식을 클라이언트측과 상의하셔아합니다.
    
          파이어베이스나 s3를 이용하여 이미지를 저장해두는 것이 맞지만 클라이언트측에서 
    
          적용하기에 시간이 많이 소요되는 부분이에요! 
    
          클라이언트분과 의논해보시고 시간이 부족하다고 판단된다면 ec2 서버에 이미지를 
    
          저장하셔서 사용하시면 됩니다.﻿ex. 서버에 image 생성하여 photo1.jpg 파일을 올려두면 
    
          ([서버 url].image.photo1.jpg) 이런식으로 링크를 만들 수 있습니다~﻿
    
          그 링크를 db에 저장해두고 사용하시면 됩니다.
    
    - 외부 api를 사용하는 경우 우선순위를 미루라고 말씀드렸는데요, 챌린지 과제로 드릴 예정입니다! 2차 피드백전에 api 25개 구현이 끝나면 저에게 따로 공유부탁드려요 : )
        
        그때 챌린지과제 안내드리겠습니다.
        
    - 세오는 룸큐가 공유해주신 것 처럼 서버 실행화면을 공유 부탁드려요!
    - 현재 명세서에 서버 반영 여부가 확인되지 않네요. 이상적으로 오늘 기준까지 두분 합쳐서
        
        6개 정도의 수는 나와야합니다! 
        
        그 이하라면﻿생산성에 집중해서 더 빠르게 진행해주셔야합니다. 
        
        명세서는 즉시 업데이트해주세요
        
    - erd 설계는 꼼꼼하게 잘 해주셨네요. 다만 좋아요(찜 등)같은 작은 기능도 구현할 수 있도록 erd 설계도 추가부탁드립니다!
    
    - api 리스트업 잘 되어있네요! 우선순위에 맞도록 개발해주시면 됩니다.
    
    - validation, transaction 처리 꼭 신경써서 개발해주세요!

❗ **개발도중 이슈**

룸큐: 서브도메인 

세오: postman에서 서버와 연결할떄 ssl을 적용한 prod.도메인으로 들어가게 되면 오류가 뜨게됨

         브라우저에서는 ssl을 적용한 prod.도메인이 정상적으로 작동한다

         서버를 다시 구축하였지만 

![Untitled](%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8C%E1%85%B5%204726e1b92619497483348b43d96f0b1f/Untitled.png)

여러번 리다이렉션 했다는 오류가 뜨며 해결하지 못하였음 재구축만 5번을 시도 하였지만 실패

# 2022/7/19

---

- 기획서 변동 사항
    - 상품 등록 API 구현 담당 변경  + 구현 시작 : 세오 → 룸큐
    - 일반 회원가입 API 구현 시작 (In progress) (담당 : 세오)
    - 일반 로그인 API 구현 시작 (In progress) (담당 : 세오)
    - 상품 상세페이지 API 수정사항 남아있어서 In progress 상태 유지
    
        → 수정 해야할 사항 : teg 여러개 가능, 지역, 몇분전에 올라왔는지, 배송지 포함 여부
    
    - 홈 화면 추천 상품 API  구현했는데 서버 연동 실패( local은 성공) In progress 상태 유지

- ERD 진행상황
    - 상품 등록 API 구현하기위해 등록, 등록 준비(장바구니 개념) , 사진, 카테고리, 태그 테이블 등 추가 예정
    - location 테이블 추가 예정
    - [https://aquerytool.com/aquerymain/index/?rurl=7c76d9b4-e07e-4339-96f4-f5d37e3f818d](https://aquerytool.com/aquerymain/index/?rurl=7c76d9b4-e07e-4339-96f4-f5d37e3f818d)
    - 비번: 0mr588
    
- **API 리스트업**
    - 90% 수정사항 남아있음
    
- **서버&클라이언트 회의**
    - 서버:  목요일까지 회원가입, 로그인, 상품 등록 완벽하게 구현
    - 클라이언트:  목요일까지 회원가입, 로그인, 상품 등록 회면 만들기
    - 목요일에 구현 테스트 예정

❗ **개발도중 이슈**

### 룸큐

번개장터는 기본 회원가입/로그인이 무조건 문자 인증이어서 외부 API를 이용한 문자 인증 시스템을 구현 하려다가 실패했다.

현재는 상품 등록 API 구현중이다.

상품 등록 과정에 굉장히 복잡해서 ERD와 datagrip 의 테이블들을 수정할 예정이고 계속 고민하고 있다.

- 상품 등록 과정 고민 사항
    - 사진 올릴때 갤러리 연동 등록전에 추가 삭제 자유롭게 가능 (따로 api 구현 예정)
    - 카테고리 3단계에 걸쳐서 선택해야함 (따로 api 구현 예정)
    - 태그 여러개 추가 가능해야함 (따로 api 구현 예정)
    - 지역 정하는건 나중에 시도할 예정
- 나중에 서버 수정하기
- 메인 화면 추천 상품 API 서버 연동 안되는 에러 해결하기

### 세오

번개장터가 기본적으로 메세지 인증으로 로그인이 되어 있어서 우선적으로 구현을 해야지

다른 jwt가 필요한 곳에 api를 수정하지 않고 무사히 연동할수 있을 거 같아서 구현을 시도 하였고

현재 외부 api를 받아와서 성공은 했지만 깃과 연동된 스프링부트 파일에서 라이브러리가 추가되

지 않는 오류가 떠서 해결방법을 찾고 있다.

- 깃허브 밖에서 라이브러리 추가후 커밋하거나, 오류의 문제를 찾아 해결할기

# 2022/7/20

---

- 기획서 변동사항
    - 상품 찜 추가/ 취소 API 구현 (룸큐, 서버 연동 x)  In progress 상태 유지
    
- datagrip 진행사항
    - 기존의 Products 테이블, ProductImgUrl 테이블 삭제 →  ProductImgUrls, ProductTegs, ProductInfo, Products 새로 추가
    - User 테이블 컬럼 추가
    - bookmark 테이블에 store오타 고침
    - bookmark 테이블에 status 디폴트 값 A 넣음
    - updateAt의 default 값 바꾸기 *`CURRENT_TIMESTAMP`* → *`current_timestamp* on update *current_timestamp*`

- ERD 진행상황
    - datagrip의 수저 사항 나중에 한꺼번에 비교하면서 수정할 예정이다.

- api 리스트업 진행상황
    - 상품의 찜 추가/ 취소 API 추가
    - 기존의 상품 찜 추가, 삭제 API 삭제함.
    - 모든 URL에서 userIdx 로 바꿔야할 부분 바꾸기
    
- 현재 어떤 기능(api)를 구현중에 있는지
    - 룸큐 : 상품 등록 API 오늘안에 마무리하기
    - 세오 : 로그인/회원가입 문자인증 성공했으므로 마무리 하기

- 더미데이터 진행사항
    - FirstCategory 테이블 100% 완료
    
- 클라이언트 개발자 or 서버 개발자와의 회의에 따른 회의록
    - 클라이언트 개발자가 구현한 화면 공유하여 다같이 보면서 구현할 API 세부적으로 논의
    - 클라이언트 개발자께 상품 등록에서 사진 올릴때 갤러리 연동 여부 확인
    - 로그인 / 회원가입 부분에서 API 5개 엮어야한다고 전달
    - 상품 등록 부분에서 API 4-5 개 엮어야한다고 전달
    - 7월 21 일 목요일 → 로그인 회원가입 연동 시도 예정
    - 7월 22일 금요일 —> 상품등록 연동 시도 예정
    
    ![화면 캡처 2022-07-20 201150.png](%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8C%E1%85%B5%204726e1b92619497483348b43d96f0b1f/%25ED%2599%2594%25EB%25A9%25B4_%25EC%25BA%25A1%25EC%25B2%2598_2022-07-20_201150.png)
    

❗ **개발도중 이슈**

### 룸큐

- 상품 등록 API 구현이 복잡해서 어떻게 할지 고민이었다.
    
    → 사진, 태그, 카테고리 에서 GET으로 API 를 구현하고 상품 등록전 테이블(ProductInfo) 를 따로 만들어서 등록에 필요한 정보들을 insert하기로 했다.
    
    → 태그 부분을 구현할때 자동완성 부분을 like라는 sql문을 사용하면 프론트에서 구현이 가능하다는것을 확인했다.
    
- 우리 팀은 지금 제일 기본이면서도 제일 어렵다고 생각되는 로그인과 상품등록을 구현하고있기때문에 속도가 느린것같다. 하지만 이부분만 완벽하게 구현된다면 빠른 속도로 다른 API들을 구현할 수 있을것같다.

### 세오

메세지 api의 경우에는 coolsms를 통해서  성공하였고 루트 가 안맞다고 오류가 떠서 라이브러리가 추가 안되었던 오류는 모듈이 중첩되서 오류가 낫었던것을 확인하여 모듈을 삭제를 해주니 라이브러리가 무사히 추가되었고 build.gralde 파일에 dpendency 안에 외부 api를 넣는 과정에서

compile group이란게 이제는 지원하지 않는다 해서 다른 속성으로 넣어주니 무사히 성공할수 있었다. 로그인 인증은 해결은 했는데 로그인과 회원가입에 있어서 메세지인증의 경우에는 절차가 

같기 떄문에 어떤 기준으로 회원가입과 로그인을 나눠야 할지 고민중입니다. 

프론트분하고 상의를 하여 로그인과 회원가입에 있어서 일단 연동을 해보면서 맞추기로 하였습니다.